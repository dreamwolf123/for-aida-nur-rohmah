<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barakallah fii umrik enid âœ¨âœ¨ðŸ˜‡</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap');
        body {
            background: radial-gradient(1200px 600px at 50% -200px, rgba(255, 192, 203, 0.15), transparent), linear-gradient(120deg, #1a0f1f 0%, #2c1424 50%, #1f1f2e 100%);
            overflow: hidden;
            height: 100vh;
            color: white;
            font-family: 'Poppins', sans-serif;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(2px 2px at 40px 60px, #FFB6C1 50%, transparent 100%), radial-gradient(2px 2px at 20px 50px, #FFF 50%, transparent 100%), radial-gradient(2px 2px at 30px 100px, #FFB6C1 50%, transparent 100%), radial-gradient(2px 2px at 40px 60px, #FFF 50%, transparent 100%), radial-gradient(2px 2px at 110px 90px, #FFB6C1 50%, transparent 100%), radial-gradient(2px 2px at 190px 150px, #FFF 50%, transparent 100%);
            background-repeat: repeat;
            background-size: 200px 200px;
            animation: stars 100s linear infinite;
            opacity: 0.4;
            z-index: 1;
        }
        
        body>* {
            position: relative;
            z-index: 2;
        }
        
        @keyframes stars {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(-100%);
            }
        }
        
        .hidden {
            display: none;
        }
        
        .rose-petal {
            position: fixed;
            pointer-events: none;
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%23ff69b4" d="M12,1C8.1,1,5,4.1,5,8c0,4.9,7,15,7,15s7-10.1,7-15C19,4.1,15.9,1,12,1z"/></svg>');
            opacity: 0.6;
            animation: falling linear infinite;
        }
        
        @keyframes falling {
            0% {
                transform: translate(0, -10vh) rotate(0deg);
                opacity: 0.6;
            }
            100% {
                transform: translate(100px, 100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .fade-in {
            opacity: 0;
            animation: fadeIn 2s forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        .glow {
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 18px rgba(255, 192, 203, 0.35);
        }
        
        .title-sparkle {
            background: linear-gradient(90deg, #fff 0%, #ffd3e0 25%, #ff69b4 50%, #ffe082 75%, #fff 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 100%;
            animation: shimmer 8s linear infinite;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5em;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(255, 192, 203, 0.3), 0 0 20px rgba(255, 192, 203, 0.2), 0 0 30px rgba(255, 192, 203, 0.1);
        }
        
        @keyframes shimmer {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .fancy-text {
            font-family: 'Dancing Script', cursive;
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.3);
        }
        
        .heart {
            position: absolute;
            color: #ff4b91;
            animation: floatUp 5s linear infinite;
            font-size: 24px;
            pointer-events: none;
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-200px);
                opacity: 0;
            }
        }
        
        .balloon {
            position: absolute;
            bottom: -120px;
            font-size: 28px;
            animation: balloonUp 10s linear infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
            pointer-events: none;
        }
        
        @keyframes balloonUp {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translateY(-120vh) translateX(40px) rotate(6deg);
                opacity: 0;
            }
        }
        
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            background: gold;
            border-radius: 50%;
            animation: explode 1.5s ease-out forwards;
        }
        
        @keyframes explode {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(5);
                opacity: 0;
            }
        }
        
        #toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
            display: none;
        }
        /* Slideshow */
        
        #slideshow {
            position: relative;
            width: min(92vw, 980px);
            height: clamp(220px, 52vh, 560px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 192, 203, 0.15), inset 0 0 0 2px rgba(255, 192, 203, 0.1), 0 0 60px rgba(255, 192, 203, 0.1);
            transform: translateY(10px);
            opacity: 0;
            transition: opacity .8s ease, transform .8s ease;
            background: rgba(0, 0, 0, 0.35);
            backdrop-filter: blur(8px);
        }
        
        #slideshow::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, rgba(255, 192, 203, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 192, 203, 0.1) 100%);
            z-index: 1;
            pointer-events: none;
            mix-blend-mode: overlay;
        }
        
        #slideshow::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            animation: shine 10s linear infinite;
            pointer-events: none;
        }
        
        @keyframes shine {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        #slideshow.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .slide {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(1.1) rotate(2deg);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            background: transparent;
            filter: brightness(0.8) blur(4px);
        }
        
        .slide.active {
            opacity: 1;
            transform: scale(1) rotate(0deg);
            filter: brightness(1) blur(0);
        }
        
        .slide::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(255, 192, 203, 0.1) 100%);
            mix-blend-mode: overlay;
            opacity: 0;
            transition: opacity 1.2s ease;
        }
        
        .slide.active::before {
            opacity: 1;
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            user-select: none;
            -webkit-user-drag: none;
        }
        /* Pesan khusus */
        
        #messageBox {
            max-width: 980px;
            margin-top: 18px;
            background: rgba(0, 0, 0, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.12);
            padding: 16px 18px;
            border-radius: 14px;
            backdrop-filter: blur(6px);
            line-height: 1.7;
            opacity: 0;
            transform: translateY(8px);
            transition: opacity .8s ease, transform .8s ease;
        }
        
        #messageBox.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .typewriter span {
            border-right: 2px solid rgba(255, 255, 255, 0.8);
            animation: caret 1s steps(1) infinite;
        }
        
        @keyframes caret {
            50% {
                border-color: transparent;
            }
        }
        /* Efek detak jantung untuk sub-judul */
        
        .heartbeat {
            animation: heartbeat 1.25s ease-in-out infinite;
            transform-origin: center;
            text-shadow: 0 0 8px rgba(255, 105, 180, 0.45), 0 0 18px rgba(255, 255, 255, 0.25);
        }
        
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            10% {
                transform: scale(1.08);
            }
            20% {
                transform: scale(1);
            }
            30% {
                transform: scale(1.12);
            }
            40% {
                transform: scale(1);
            }
            100% {
                transform: scale(1);
            }
        }
        /* Gerakan lembut naik-turun dan sedikit goyangan untuk teks Barakallah */
        
        .hbMove {
            display: inline-block;
            animation: floaty 3.2s ease-in-out infinite;
        }
        
        @keyframes floaty {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-4px) rotate(-1deg);
            }
            50% {
                transform: translateY(-1px) rotate(0.6deg);
            }
            75% {
                transform: translateY(-3px) rotate(-0.6deg);
            }
            100% {
                transform: translateY(0) rotate(0deg);
            }
        }
        
        @keyframes bounce {
            0%,
            100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }
        /* Enhanced button styling */
        
        #startBtn {
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            border: none;
            padding: 12px 28px;
            border-radius: 50px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        #startBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
        }
        
        #startBtn:active {
            transform: translateY(0);
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }
        
        #startBtn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.3) 0%, transparent 60%);
            animation: btnShine 6s linear infinite;
            pointer-events: none;
        }
        
        @keyframes btnShine {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        /* Enhanced message box styling */
        
        #messageBox {
            max-width: 980px;
            margin-top: 18px;
            background: rgba(255, 192, 203, 0.1);
            border: 1px solid rgba(255, 192, 203, 0.2);
            padding: 20px 24px;
            border-radius: 20px;
            backdrop-filter: blur(8px);
            line-height: 1.8;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(255, 192, 203, 0.1);
        }
        /* Sparkle animation */
        
        @keyframes sparkle {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>

<body class="flex flex-col items-center justify-center text-center relative">


    <p id="desc" class="text-base md:text-lg mb-4 fade-in" style="animation-delay: 1s;">Selamat ulang tahun ke <span class="font-bold text-yellow-300">22</span> ðŸŽ‚ðŸŒŸ <br> tekan tombol di bawah untuk memulai!</p>

    <button id="startBtn" class="bg-pink-600 px-5 py-3 rounded-xl text-white font-semibold hover:bg-pink-700 transition">
    Mulai Perayaan ðŸŽ‰
  </button>

    <div id="slideshow" class="mt-6"></div>

    <div id="messageBox" class="text-left md:text-center mt-3">
        <p id="message" class="typewriter text-sm md:text-base"></p>
    </div>

    <div id="toast"></div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.0/dist/confetti.browser.min.js"></script>
    <script>
        const startBtn = document.getElementById('startBtn');
        const title = document.getElementById('title');
        const desc = document.getElementById('desc');
        const toast = document.getElementById('toast');
        const slideshowEl = document.getElementById('slideshow');
        const messageBox = document.getElementById('messageBox');
        const messageEl = document.getElementById('message');
        // Pastikan elemen hbLine tersedia; bila tidak ada, buat otomatis
        let hbLine = document.getElementById('hbLine');
        if (!hbLine) {
            hbLine = document.createElement('p');
            hbLine.id = 'hbLine';
            hbLine.className = 'heartbeat hidden text-pink-300 font-semibold mt-2';
            hbLine.textContent = 'Barakallah fii umrik, enid ðŸ’–';
            // Sisipkan di dalam messageBox sebelum pesan utama
            messageBox.insertBefore(hbLine, messageBox.firstChild);
        }

        const audio = new Audio('musik/lagu1.mp3');
        audio.loop = true;
        audio.volume = 0.9;

        function showToast(msg, dur = 2000) {
            toast.innerText = msg;
            toast.style.display = 'block';
            setTimeout(() => toast.style.display = 'none', dur);
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = 'ðŸ’–';
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (3 + Math.random() * 2) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }

        function createRosePetal() {
            const petal = document.createElement('div');
            petal.classList.add('rose-petal');
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.animationDuration = (8 + Math.random() * 5) + 's';
            petal.style.transform = `scale(${0.5 + Math.random() * 0.5})`;
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 8000);
        }

        let sparkleInterval;

        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.style.position = 'fixed';
            sparkle.style.pointerEvents = 'none';
            sparkle.style.width = '4px';
            sparkle.style.height = '4px';
            sparkle.style.backgroundColor = `hsl(${Math.random() * 60 + 320}, 100%, 70%)`;
            sparkle.style.borderRadius = '50%';
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.top = Math.random() * 100 + 'vh';
            sparkle.style.opacity = Math.random();
            sparkle.style.animation = 'sparkle 1.5s ease-in-out forwards';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1500);
        }

        function createBalloon() {
            const balloon = document.createElement('div');
            const balloons = ['ðŸŽˆ', 'ðŸŽ‰', 'ðŸŽŠ', 'ðŸŽˆ', 'ðŸŽˆ'];
            balloon.textContent = balloons[Math.floor(Math.random() * balloons.length)];
            balloon.classList.add('balloon');
            balloon.style.left = Math.random() * 100 + 'vw';
            balloon.style.animationDuration = (8 + Math.random() * 6) + 's';
            document.body.appendChild(balloon);
            setTimeout(() => balloon.remove(), 12000);
        }

        function createFirework() {
            const firework = document.createElement('div');
            firework.classList.add('firework');
            firework.style.left = Math.random() * window.innerWidth + 'px';
            firework.style.top = Math.random() * window.innerHeight + 'px';
            firework.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
            document.body.appendChild(firework);
            setTimeout(() => firework.remove(), 1500);
        }

        function confettiBurst() {
            if (typeof confetti !== 'function') return;
            const defaults = {
                spread: 70,
                ticks: 200,
                gravity: 0.7,
                origin: {
                    y: 0.6
                }
            };
            confetti({...defaults,
                particleCount: 80
            });
            confetti({...defaults,
                particleCount: 60,
                scalar: 0.9,
                angle: 60,
                origin: {
                    x: 0
                }
            });
            confetti({...defaults,
                particleCount: 60,
                scalar: 0.9,
                angle: 120,
                origin: {
                    x: 1
                }
            });
        }

        // Slideshow setup (foto bernama foto1.jpg .. foto7.jpg di folder 'foto')
        const imagePaths = Array.from({
            length: 7
        }, (_, i) => `foto/foto${i+1}.jpg`);
        const slides = [];
        let slideIndex = 0;
        let slideTimer = null;

        function buildSlideshow() {
            slideshowEl.innerHTML = '';
            imagePaths.forEach((src, idx) => {
                const s = document.createElement('div');
                s.className = 'slide' + (idx === 0 ? ' active' : '');
                const img = document.createElement('img');
                img.src = src;
                img.alt = `Foto ${idx + 1}`;
                img.loading = 'lazy';
                s.appendChild(img);
                slideshowEl.appendChild(s);
                slides.push(s);
            });
        }

        function nextSlide() {
            if (!slides.length) return;

            // Remove active class from current slide
            slides[slideIndex].classList.remove('active');

            // Create some sparkles for transition effect
            for (let i = 0; i < 3; i++) {
                setTimeout(createSparkle, i * 100);
            }

            // Update slide index and activate new slide
            slideIndex = (slideIndex + 1) % slides.length;
            slides[slideIndex].classList.add('active');

            // Create effects
            setTimeout(() => {
                createFirework();
                if (Math.random() > 0.5) createRosePetal();
            }, 600);

            setTimeout(confettiBurst, 800);
        }

        function startSlideshow() {
            slideshowEl.classList.add('show');
            // Initial effects
            setTimeout(() => {
                createFirework();
                createRosePetal();
                confettiBurst();
            }, 500);
            slideTimer = setInterval(nextSlide, 4000);
        }

        // Typewriter untuk pesan khusus
        const specialMessage = "Hari ini kita langit kan doa-doa untuk kamu yah cantik ðŸ˜‡âœ¨semoga hal apapun yang membuat kamu senangðŸ˜†ðŸ˜† bisa menjadi alasan untuk kmu teruss tumbuhðŸ§•, semoga Allah senantiasa menjaga dimana pun beradaðŸ˜‡ðŸ˜‡, semoga hari hari selalu diiringi cinta dan keberkahan âœ¨âœ¨yang tiada batasnya. dan semoga selalu bisa mewujudkan apapun yang menjadi impian enidðŸ¤©ðŸ¤©semoga dalam bertambahnya usia bisa menjadi wanita yang kuat ðŸ’ª dan beruntung dalam hal apapunðŸ’«ðŸ’«,menjadi manusia yang bermanfaat untuk semua orang yang pernah ditemui ðŸ˜†ðŸ˜†dan apapun yang menjadi kebanggaan orang tua enid.. Semoga dapat penganti si mpus yah...kucing yang lebih cakep lgi Aminn";

        function typeWriter(text, el, speed = 24) {
            el.innerHTML = '<span></span>';
            const span = el.querySelector('span');
            const words = text.split(' ');
            let i = 0;
            let currentText = '';

            const typer = () => {
                if (i < words.length) {
                    currentText += words[i] + ' ';
                    span.textContent = currentText;

                    // Add special effects to emojis
                    const emojiRegex = /[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]/gu;
                    span.innerHTML = span.textContent.replace(emojiRegex, match =>
                        `<span class="inline-block transform hover:scale-125 transition-transform" style="animation: bounce 2s infinite">${match}</span>`
                    );

                    i++;

                    // Add random sparkle effect
                    if (Math.random() > 0.8) {
                        createSparkle();
                    }

                    setTimeout(typer, speed * (words[i - 1].length + 1));
                }
            };
            typer();
        }

        async function startExperience() {
            console.log('Memulai experience setelah musik diputar...');
            desc.innerHTML = "<span class=\"hbMove block text-3xl md:text-5xl font-extrabold\"><span class=\"fancy-text heartbeat\">Barakallah fii umrik enid âœ¨âœ¨</span></span><br>Selamat ulang tahun ke <span class=\"title-sparkle font-bold\">22</span> ðŸŽ‚ðŸŒŸ <span class=\"fancy-text\">â€” semoga bahagia selalu!</span>";

            // Create sparkle interval
            sparkleInterval = setInterval(() => {
                if (Math.random() > 0.7) createSparkle();
            }, 100);

            let count = 0;
            const intervalEffects = setInterval(() => {
                createHeart();
                if (Math.random() > 0.6) createBalloon();
                if (Math.random() > 0.7) createRosePetal();
                if (Math.random() > 0.8) createFirework();
                count++;
                if (count > 50) clearInterval(intervalEffects);
            }, 200);

            // Build slideshow dan tampilkan pesan
            buildSlideshow();
            startSlideshow();
            messageBox.classList.add('show');
            // Munculkan teks heartbeat bersamaan dengan typewriter
            hbLine.classList.remove('hidden');
            hbLine.style.display = 'inline-block';
            void hbLine.offsetWidth; // trigger reflow agar fade-in berjalan
            hbLine.classList.add('fade-in');
            // Mulai typewriter
            typeWriter(specialMessage, messageEl, 18);

            // burst konfeti awal
            confettiBurst();
        }

        // tombol diklik
        startBtn.addEventListener('click', async(e) => {
            e.preventDefault();
            e.stopPropagation();
            console.log('Tombol Mulai Perayaan diklik!');

            // langsung play musik di event click agar tidak diblokir
            try {
                await audio.play();
                console.log('Musik berhasil diputar dari tombol klik!');
            } catch (err) {
                console.warn('Gagal memutar musik di klik pertama:', err);
                showToast('Musik gagal diputar. Coba klik lagi ya ðŸŽµ', 3000);
            }

            // mulai efek visual
            await startExperience();
            showToast('Selamat menikmati perayaan ðŸŽ‰', 3000);

            // sembunyikan tombol setelah mulai
            startBtn.style.display = 'none';
        });
    </script>

</body>

</html>
